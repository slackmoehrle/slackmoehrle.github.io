
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Quick Start: First Game · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-search-title/search.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../../styles/website.css">
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../attention/" />
    
    
    <link rel="prev" href="../helloworld/" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
    <nav role="navigation" class="autoshow">
        <ul class="summary">
        <li><a href="https://cocos.com" class="btn" target="_blank"><img src="https://forum.cocos.org/images/logo.png" height="30" /></a></li>
        <li><a href="#" class="btn" onclick="toggleLanguage()">中文</a></li>
        
        
        <li class="version-link">
            <a href="#" class="btn" style="color:#444"></i>Version: <span style="font-weight: bold; display: inline">1.1</span></a>
            <ul class="hovershow">
                
                <li><a href="https://docs.cocos.com/creator3d/1.0/manual/en" class="btn">Version: <span style="font-weight:bold; display: inline">1.0</span></a></li>
                
                <li><a href="https://docs.cocos.com/creator3d/manual/en" class="btn">Version: <span style="font-weight:bold; display: inline">3.0 Tech Preview</span></a></li>
                
            </ul>
        </li>
        
        
        
        
        <li>
            <a href="#" class="btn"><i class="fa fa-book"></i>Cocos Creator</a>
            <ul>
                
                <li><a href="https://docs.cocos.com/creator/manual/en" class="btn">Manual</a></li>
                
                <li><a href="https://docs.cocos.com/creator/api/en" class="btn">API Ref</a></li>
                
            </ul>
        </li>
        
    
        
        <li>
            <a href="#" class="btn"><i class="fa fa-book"></i>Cocos Creator 3D</a>
            <ul>
                
                <li><a href="https://docs.cocos.com/creator3d/manual/en" class="btn">Manual</a></li>
                
                <li><a href="https://docs.cocos.com/creator3d/api/en" class="btn">API Ref</a></li>
                
            </ul>
        </li>
        
    
        
        <li>
            <a href="#" class="btn"><i class="fa fa-book"></i>Cocos2d-x</a>
            <ul>
                
                <li><a href="https://docs.cocos.com/cocos2d-x/manual/en" class="btn">Manual</a></li>
                
                <li><a href="http://docs.cocos2d-x.org/api-ref/index.html" class="btn">API Ref</a></li>
                
            </ul>
        </li>
        
    
        </ul>
    </nav>
    
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">Beginners Guide</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../index.md">
            
                <span>
            
                    
                    Getting Started
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../dashboard/">
            
                <a href="../dashboard/">
            
                    
                    Dashboard
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../helloworld/">
            
                <a href="../helloworld/">
            
                    
                    Hello world!
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.3" data-path="./">
            
                <a href="./">
            
                    
                    Quick Start: First Game
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../attention/">
            
                <a href="../attention/">
            
                    
                    Caution!
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Editor Manual</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../../editor/index.md">
            
                <span>
            
                    
                    Editor Introduction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="../../editor/scene/">
            
                <a href="../../editor/scene/">
            
                    
                    Scene Editor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="../../editor/hierarchy/">
            
                <a href="../../editor/hierarchy/">
            
                    
                    Hierarchy Manager
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="../../editor/assets/">
            
                <a href="../../editor/assets/">
            
                    
                    Assets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.4" data-path="../../editor/inspector/">
            
                <a href="../../editor/inspector/">
            
                    
                    Inspector
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.5" data-path="../../editor/console/">
            
                <a href="../../editor/console/">
            
                    
                    Console
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.6" data-path="../../editor/animation/">
            
                <a href="../../editor/animation/">
            
                    
                    Animation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.7" data-path="../../editor/preferences/">
            
                <a href="../../editor/preferences/">
            
                    
                    Preferences
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.8" data-path="../../editor/project/index.md">
            
                <span>
            
                    
                    Project Settings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.9" data-path="../../editor/engine-customization/engine-customization.md">
            
                <span>
            
                    
                    Engine Customization Workflow
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../../editor/preview/">
            
                <a href="../../editor/preview/">
            
                    
                    Preview a Game
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="../../editor/preview/browser.html">
            
                <a href="../../editor/preview/browser.html">
            
                    
                    Previewing in Browser
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.2" data-path="../../preview-guid.md">
            
                <span>
            
                    
                    Introduction To Preview Process And Common Error Handling
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../../particle-system/editor/">
            
                <a href="../../particle-system/editor/">
            
                    
                    Particle Editor
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="../../particle-system/editor/curve-editor.html">
            
                <a href="../../particle-system/editor/curve-editor.html">
            
                    
                    Curve Editor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2" data-path="../../particle-system/editor/gradient-editor.html">
            
                <a href="../../particle-system/editor/gradient-editor.html">
            
                    
                    Gradient Editor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.3" data-path="../../particle-system/editor/particle-effect-panel.html">
            
                <a href="../../particle-system/editor/particle-effect-panel.html">
            
                    
                    Particle Effects
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../../editor/animation/">
            
                <a href="../../editor/animation/">
            
                    
                    Animation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1" data-path="../../editor/animation/animation.html">
            
                <a href="../../editor/animation/animation.html">
            
                    
                    About Animation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.2" data-path="../../editor/animation/animation-editor.html">
            
                <a href="../../editor/animation/animation-editor.html">
            
                    
                    Familiar with animation editor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.3" data-path="../../editor/animation/animation-create.html">
            
                <a href="../../editor/animation/animation-create.html">
            
                    
                    Create Animation components and animation clips
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.4" data-path="../../editor/animation/animation-clip.html">
            
                <a href="../../editor/animation/animation-clip.html">
            
                    
                    Edit Animation Sequence
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.5" data-path="../../editor/animation/sprite-animation.html">
            
                <a href="../../editor/animation/sprite-animation.html">
            
                    
                    Creating A Frame Animation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.6" data-path="../../editor/animation/animation-curve.html">
            
                <a href="../../editor/animation/animation-curve.html">
            
                    
                    Edit Animation Curve
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.7" data-path="../../editor/animation/animation-event.html">
            
                <a href="../../editor/animation/animation-event.html">
            
                    
                    Animation event
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../../editor/terrain/">
            
                <a href="../../editor/terrain/">
            
                    
                    Terrain System
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="../../editor/lightmap/">
            
                <a href="../../editor/lightmap/">
            
                    
                    Lightmap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="../../editor/publish/">
            
                <a href="../../editor/publish/">
            
                    
                    Build and Publish
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.7.1" data-path="../../editor/publish/build-panel.html">
            
                <a href="../../editor/publish/build-panel.html">
            
                    
                    About the Build Panel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.2" data-path="../../editor/publish/build-options.html">
            
                <a href="../../editor/publish/build-options.html">
            
                    
                    General Build Options
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.3" data-path="../../editor/publish/publish-web.html">
            
                <a href="../../editor/publish/publish-web.html">
            
                    
                    Publishing to the Web
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.4" data-path="../../editor/publish/publish-native.html">
            
                <a href="../../editor/publish/publish-native.html">
            
                    
                    Publishing to Native
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.7.4.1" data-path="../../editor/publish/setup-native-development.html">
            
                <a href="../../editor/publish/setup-native-development.html">
            
                    
                    Setup Native Development
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.4.2" data-path="../../editor/publish/debug-jsb.html">
            
                <a href="../../editor/publish/debug-jsb.html">
            
                    
                    Debuging JavaScript on Native Platforms
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.7.5" data-path="../../editor/publish/publish-in-command-line.html">
            
                <a href="../../editor/publish/publish-in-command-line.html">
            
                    
                    Publishing from the Command Line
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.6" data-path="../../editor/publish/custom-project-build-template.html">
            
                <a href="../../editor/publish/custom-project-build-template.html">
            
                    
                    Custom Project Build Process
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.7" data-path="../../editor/publish/build-guide.html">
            
                <a href="../../editor/publish/build-guide.html">
            
                    
                    Build Process with FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.8" >
            
                <span>
            
                    
                    Publishing to Mini Games
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.7.8.1" data-path="../../editor/publish/publish-alipay-mini-game.html">
            
                <a href="../../editor/publish/publish-alipay-mini-game.html">
            
                    
                    Publishing to Alipay Mini Games
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.8.2" data-path="../../editor/publish/publish-baidugame.html">
            
                <a href="../../editor/publish/publish-baidugame.html">
            
                    
                    Publishing to Baidu Mini Games
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.8.3" data-path="../../editor/publish/publish-bytedance-mini-game.html">
            
                <a href="../../editor/publish/publish-bytedance-mini-game.html">
            
                    
                    Publishing to ByteDance Mini Games
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.8.4" data-path="../../editor/publish/publish-cocos-play.html">
            
                <a href="../../editor/publish/publish-cocos-play.html">
            
                    
                    Publishing to Cocos Play
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.8.5" data-path="../../editor/publish/publish-huawei-mini-game.html">
            
                <a href="../../editor/publish/publish-huawei-mini-game.html">
            
                    
                    Publishing to Huawei Quick Games
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.8.6" data-path="../../editor/publish/publish-oppo-mini-game.html">
            
                <a href="../../editor/publish/publish-oppo-mini-game.html">
            
                    
                    Publishing to OPPO Mini Games
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.8.7" data-path="../../editor/publish/publish-vivo-mini-game.html">
            
                <a href="../../editor/publish/publish-vivo-mini-game.html">
            
                    
                    Publishing to vivo Mini Games
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.8.8" data-path="../../editor/publish/publish-wechatgame.html">
            
                <a href="../../editor/publish/publish-wechatgame.html">
            
                    
                    Publishing to WeChat Mini Games
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.7.8.8.1" data-path="../../editor/publish/wechatgame-plugin.html">
            
                <a href="../../editor/publish/wechatgame-plugin.html">
            
                    
                    WeChat Engine Plugin
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.7.8.9" data-path="../../editor/publish/publish-xiaomi-quick-game.html">
            
                <a href="../../editor/publish/publish-xiaomi-quick-game.html">
            
                    
                    Publishing to Xiaomi Quick Games
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Engine Manual</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../../module-map/index.md">
            
                <span>
            
                    
                    功能地图
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="../../module-map/graphics.md">
            
                <span>
            
                    
                    图形渲染
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../../concepts/scene/">
            
                <a href="../../concepts/scene/">
            
                    
                    Scene and Environment
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.1" data-path="../../concepts/scene/coord.html">
            
                <a href="../../concepts/scene/coord.html">
            
                    
                    Coordinate system
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.2" data-path="../../concepts/scene/scene.html">
            
                <a href="../../concepts/scene/scene.html">
            
                    
                    Scene
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.3" data-path="../../concepts/scene/node.html">
            
                <a href="../../concepts/scene/node.html">
            
                    
                    Node
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.4" data-path="../../concepts/scene/skybox.html">
            
                <a href="../../concepts/scene/skybox.html">
            
                    
                    Skybox
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../../concepts/scene/light.html">
            
                <a href="../../concepts/scene/light.html">
            
                    
                    Lighting
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.3.1" data-path="../../concepts/scene/light/pbr-lighting.html">
            
                <a href="../../concepts/scene/light/pbr-lighting.html">
            
                    
                    Physically based lighting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.2" data-path="../../concepts/scene/light/dir-light.html">
            
                <a href="../../concepts/scene/light/dir-light.html">
            
                    
                    Directional lighting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.3" data-path="../../concepts/scene/light/sphere-light.html">
            
                <a href="../../concepts/scene/light/sphere-light.html">
            
                    
                    Spherical lighting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.4" data-path="../../concepts/scene/light/spot-light.html">
            
                <a href="../../concepts/scene/light/spot-light.html">
            
                    
                    Spot lighting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.5" data-path="../../concepts/scene/shadow.html">
            
                <a href="../../concepts/scene/shadow.html">
            
                    
                    Shadows
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.6" data-path="../../concepts/scene/ambient.html">
            
                <a href="../../concepts/scene/ambient.html">
            
                    
                    Ambient lighting
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="../../material-system/overview.html">
            
                <a href="../../material-system/overview.html">
            
                    
                    Materials System
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.4.1" data-path="../../material-system/yaml-101.html">
            
                <a href="../../material-system/yaml-101.html">
            
                    
                    YAML 101
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4.2" data-path="../../material-system/effect-syntax.html">
            
                <a href="../../material-system/effect-syntax.html">
            
                    
                    Effect Syntax
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4.3" data-path="../../material-system/pass-parameter-list.html">
            
                <a href="../../material-system/pass-parameter-list.html">
            
                    
                    Pass Params
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4.4" data-path="../../material-system/builtin-shader-uniforms.html">
            
                <a href="../../material-system/builtin-shader-uniforms.html">
            
                    
                    Builtin Shader Uniforms
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4.5" data-path="../../material-system/builtin-shader-variables.md">
            
                <span>
            
                    
                    Builtin Shader Variables
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="../../audio-system/overview.html">
            
                <a href="../../audio-system/overview.html">
            
                    
                    Audio System
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="../../particle-system/overview.html">
            
                <a href="../../particle-system/overview.html">
            
                    
                    Particle System
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.6.1" data-path="../../particle-system/module.html">
            
                <a href="../../particle-system/module.html">
            
                    
                    Particle System Module
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6.2" data-path="../../particle-system/main-module.html">
            
                <a href="../../particle-system/main-module.html">
            
                    
                    Main Module
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6.3" data-path="../../particle-system/emitter.html">
            
                <a href="../../particle-system/emitter.html">
            
                    
                    Emitter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6.4" data-path="../../particle-system/color-module.html">
            
                <a href="../../particle-system/color-module.html">
            
                    
                    Color Module
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6.5" data-path="../../particle-system/size-module.html">
            
                <a href="../../particle-system/size-module.html">
            
                    
                    Size Modulle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6.6" data-path="../../particle-system/rotation-module.html">
            
                <a href="../../particle-system/rotation-module.html">
            
                    
                    Rotation Module
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6.7" data-path="../../particle-system/velocity-module.html">
            
                <a href="../../particle-system/velocity-module.html">
            
                    
                    Velocity Module
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6.8" data-path="../../particle-system/limit-velocity-module.html">
            
                <a href="../../particle-system/limit-velocity-module.html">
            
                    
                    Limit Velocity Module
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6.9" data-path="../../particle-system/force-module.html">
            
                <a href="../../particle-system/force-module.html">
            
                    
                    Force Module
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6.10" data-path="../../particle-system/texture-animation-module.html">
            
                <a href="../../particle-system/texture-animation-module.html">
            
                    
                    Texture Animation Module
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6.11" data-path="../../particle-system/renderer.html">
            
                <a href="../../particle-system/renderer.html">
            
                    
                    Renderer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6.12" data-path="../../particle-system/trail-module.html">
            
                <a href="../../particle-system/trail-module.html">
            
                    
                    Trail Module
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="../../engine/animation/">
            
                <a href="../../engine/animation/">
            
                    
                    Animation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.7.1" data-path="../../engine/animation/animation-component.html">
            
                <a href="../../engine/animation/animation-component.html">
            
                    
                    Animation Components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.7.2" data-path="../../engine/animation/animation-clip.html">
            
                <a href="../../engine/animation/animation-clip.html">
            
                    
                    Animation Clips
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.7.3" data-path="../../engine/animation/skeletal-animation.html">
            
                <a href="../../engine/animation/skeletal-animation.html">
            
                    
                    Skeletal Animation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.8" data-path="../../tween/">
            
                <a href="../../tween/">
            
                    
                    Tween
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.9" data-path="../../physics/physics.html">
            
                <a href="../../physics/physics.html">
            
                    
                    Physics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.9.1" data-path="../../physics/physics-item.html">
            
                <a href="../../physics/physics-item.html">
            
                    
                    Physics Options
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.9.2" data-path="../../physics/physics-system.html">
            
                <a href="../../physics/physics-system.html">
            
                    
                    Physics System
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.9.3" data-path="../../physics/physics-component.html">
            
                <a href="../../physics/physics-component.html">
            
                    
                    Physics Component
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.9.4" data-path="../../physics/physics-use.html">
            
                <a href="../../physics/physics-use.html">
            
                    
                    Using Physics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.9.5" data-path="../../physics/physics-collider.html">
            
                <a href="../../physics/physics-collider.html">
            
                    
                    Physics Collider
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.9.6" data-path="../../physics/physics-material.html">
            
                <a href="../../physics/physics-material.html">
            
                    
                    Materials
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.9.7" data-path="../../physics/physics-rigidbody.html">
            
                <a href="../../physics/physics-rigidbody.html">
            
                    
                    Rigid Body
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.9.8" data-path="../../physics/physics-event.html">
            
                <a href="../../physics/physics-event.html">
            
                    
                    Physics Events
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.9.9" data-path="../../physics/physics-group-mask.html">
            
                <a href="../../physics/physics-group-mask.html">
            
                    
                    Group Masks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.9.10" data-path="../../physics/physics-raycast.html">
            
                <a href="../../physics/physics-raycast.html">
            
                    
                    Raycast
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.10" data-path="../../ui-system/components/engine/">
            
                <a href="../../ui-system/components/engine/">
            
                    
                    UI
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.10.1" data-path="../../ui-system/components/engine/priority.html">
            
                <a href="../../ui-system/components/engine/priority.html">
            
                    
                    Rendering Order
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.10.2" data-path="../../ui-system/components/engine/ui-batch.html">
            
                <a href="../../ui-system/components/engine/ui-batch.html">
            
                    
                    UI Batch
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.10.3" data-path="../../ui-system/components/engine/multi-resolution.html">
            
                <a href="../../ui-system/components/engine/multi-resolution.html">
            
                    
                    Multi-Resolution Adaption
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.10.4" data-path="../../ui-system/components/engine/widget-align.html">
            
                <a href="../../ui-system/components/engine/widget-align.html">
            
                    
                    Widget Alignment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.10.5" data-path="../../ui-system/components/engine/label-layout.html">
            
                <a href="../../ui-system/components/engine/label-layout.html">
            
                    
                    Label Layout
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.10.6" data-path="../../ui-system/components/engine/auto-layout.html">
            
                <a href="../../ui-system/components/engine/auto-layout.html">
            
                    
                    Auto Layout Container
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.10.7" data-path="../../ui-system/components/engine/list-with-data.html">
            
                <a href="../../ui-system/components/engine/list-with-data.html">
            
                    
                    List with data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.10.8" data-path="../../ui-system/components/engine/sliced-sprite.html">
            
                <a href="../../ui-system/components/engine/sliced-sprite.html">
            
                    
                    Stretchable UI Sprite
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.11" data-path="../../editor/components/">
            
                <a href="../../editor/components/">
            
                    
                    Components
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.11.1" data-path="../../audio-system/overview.html">
            
                <a href="../../audio-system/overview.html">
            
                    
                    AudioSourceComponent
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.2" data-path="../../engine/renderable/model-component.html">
            
                <a href="../../engine/renderable/model-component.html">
            
                    
                    ModelComponent
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.3" data-path="../../engine/animation/skeletal-animation.html">
            
                <a href="../../engine/animation/skeletal-animation.html">
            
                    
                    SkinningModelComponent
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.4" data-path="../../editor/components/camera-component.html">
            
                <a href="../../editor/components/camera-component.html">
            
                    
                    CameraComponent
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.5" data-path="../../concepts/scene/light/dir-light.html">
            
                <a href="../../concepts/scene/light/dir-light.html">
            
                    
                    DirectionalLightComponent
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.6" data-path="../../concepts/scene/light/sphere-light.html">
            
                <a href="../../concepts/scene/light/sphere-light.html">
            
                    
                    SphereLightComponent
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.7" data-path="../../concepts/scene/light/spot-light.html">
            
                <a href="../../concepts/scene/light/spot-light.html">
            
                    
                    SpotLightComponent
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.8" data-path="../../engine/animation/animation-component.html">
            
                <a href="../../engine/animation/animation-component.html">
            
                    
                    AnimationComponent
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.9" data-path="../../particle-system/billboard-component.html">
            
                <a href="../../particle-system/billboard-component.html">
            
                    
                    BillboardComponent
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.10" data-path="../../particle-system/line-component.html">
            
                <a href="../../particle-system/line-component.html">
            
                    
                    LineComponent
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.11" data-path="../../particle-system/main-module.html">
            
                <a href="../../particle-system/main-module.html">
            
                    
                    ParticleSystemComponent
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.12" data-path="../../physics/physics-component.html">
            
                <a href="../../physics/physics-component.html#盒碰撞器组件（boxcollidercomponent）">
            
                    
                    BoxColliderComponent
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.13" data-path="../../physics/physics-component.html">
            
                <a href="../../physics/physics-component.html#球碰撞器组件（spherecollidercomponent）">
            
                    
                    SphereColliderComponent
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.14" data-path="../../physics/physics-component.html">
            
                <a href="../../physics/physics-component.html#刚体组件">
            
                    
                    RigidBodyComponent
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.15" data-path="../../ui-system/components/editor/">
            
                <a href="../../ui-system/components/editor/">
            
                    
                    UI Component Reference
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.11.15.1" data-path="../../ui-system/components/editor/render-component.html">
            
                <a href="../../ui-system/components/editor/render-component.html">
            
                    
                    UI Renderer Component
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.11.15.1.1" data-path="../../ui-system/components/editor/sprite.html">
            
                <a href="../../ui-system/components/editor/sprite.html">
            
                    
                    Sprite Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.15.1.2" data-path="../../ui-system/components/editor/label.html">
            
                <a href="../../ui-system/components/editor/label.html">
            
                    
                    Label Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.15.1.3" data-path="../../ui-system/components/editor/mask.html">
            
                <a href="../../ui-system/components/editor/mask.html">
            
                    
                    Mask Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.15.1.4" data-path="../../ui-system/components/editor/graphics.html">
            
                <a href="../../ui-system/components/editor/graphics.html">
            
                    
                    Graphics Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.15.1.5" data-path="../../ui-system/components/editor/richtext.html">
            
                <a href="../../ui-system/components/editor/richtext.html">
            
                    
                    RichText Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.15.1.6" data-path="../../ui-system/components/editor/ui-static.html">
            
                <a href="../../ui-system/components/editor/ui-static.html">
            
                    
                    UIStaticBatch Reference
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.11.15.2" data-path="../../ui-system/components/editor/base-component.html">
            
                <a href="../../ui-system/components/editor/base-component.html">
            
                    
                    UI Basic Component 
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.11.15.2.1" data-path="../../ui-system/components/editor/canvas.html">
            
                <a href="../../ui-system/components/editor/canvas.html">
            
                    
                    Canvas Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.15.2.2" data-path="../../ui-system/components/editor/ui-transform.html">
            
                <a href="../../ui-system/components/editor/ui-transform.html">
            
                    
                    UITransform Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.15.2.3" data-path="../../ui-system/components/editor/widget.html">
            
                <a href="../../ui-system/components/editor/widget.html">
            
                    
                    Widget Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.15.2.4" data-path="../../ui-system/components/editor/button.html">
            
                <a href="../../ui-system/components/editor/button.html">
            
                    
                    Button Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.15.2.5" data-path="../../ui-system/components/editor/layout.html">
            
                <a href="../../ui-system/components/editor/layout.html">
            
                    
                    Layout Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.15.2.6" data-path="../../ui-system/components/editor/editbox.html">
            
                <a href="../../ui-system/components/editor/editbox.html">
            
                    
                    EditBox Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.15.2.7" data-path="../../ui-system/components/editor/scrollview.html">
            
                <a href="../../ui-system/components/editor/scrollview.html">
            
                    
                    ScrollView Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.15.2.8" data-path="../../ui-system/components/editor/scrollbar.html">
            
                <a href="../../ui-system/components/editor/scrollbar.html">
            
                    
                    ScrollBar Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.15.2.9" data-path="../../ui-system/components/editor/progress.html">
            
                <a href="../../ui-system/components/editor/progress.html">
            
                    
                    ProgressBar Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.15.2.10" data-path="../../ui-system/components/editor/label-outline.html">
            
                <a href="../../ui-system/components/editor/label-outline.html">
            
                    
                    LabelOutline Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.15.2.11" data-path="../../ui-system/components/editor/toggle.html">
            
                <a href="../../ui-system/components/editor/toggle.html">
            
                    
                    Toggle Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.15.2.12" data-path="../../ui-system/components/editor/toggleContainer.html">
            
                <a href="../../ui-system/components/editor/toggleContainer.html">
            
                    
                    ToggleContainer Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.15.2.13" data-path="../../ui-system/components/editor/slider.html">
            
                <a href="../../ui-system/components/editor/slider.html">
            
                    
                    Slider Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.15.2.14" data-path="../../ui-system/components/editor/pageview.html">
            
                <a href="../../ui-system/components/editor/pageview.html">
            
                    
                    PageView Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.15.2.15" data-path="../../ui-system/components/editor/pageviewindicator.html">
            
                <a href="../../ui-system/components/editor/pageviewindicator.html">
            
                    
                    PageViewIndicator Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.15.2.16" data-path="../../ui-system/components/editor/ui-model.html">
            
                <a href="../../ui-system/components/editor/ui-model.html">
            
                    
                    UIModel Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.15.2.17" data-path="../../ui-system/components/editor/ui-opacity.html">
            
                <a href="../../ui-system/components/editor/ui-opacity.html">
            
                    
                    UIOpacity Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11.15.2.18" data-path="../../ui-system/components/editor/block-input-enents.html">
            
                <a href="../../ui-system/components/editor/block-input-enents.html">
            
                    
                    BlockInputEvents Reference
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.12" data-path="../../scripting/index.md">
            
                <span>
            
                    
                    脚本指南及事件机制
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.12.1" data-path="../../scripting/setup.md">
            
                <span>
            
                    
                    脚本创建
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.12.2" data-path="../../scripting/basic.md">
            
                <span>
            
                    
                    脚本基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.12.3" data-path="../../scripting/language-support.md">
            
                <span>
            
                    
                    语言支持
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.12.4" data-path="../../scripting/ccclass.md">
            
                <span>
            
                    
                    ccclass
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.12.5" data-path="../../scripting/reference/attributes.md">
            
                <span>
            
                    
                    属性参数参考
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.12.6" data-path="../../scripting/access-node-component.md">
            
                <span>
            
                    
                    访问节点和其他组件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.12.7" data-path="../../scripting/basic-node-api.md">
            
                <span>
            
                    
                    常用节点和组件接口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.12.8" data-path="../../scripting/life-cycle-callbacks.md">
            
                <span>
            
                    
                    生命周期回调
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.12.9" data-path="../../scripting/create-destroy.md">
            
                <span>
            
                    
                    创建和销毁节点
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.12.10" data-path="../../scripting/scene-managing.md">
            
                <span>
            
                    
                    加载和切换场景
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.12.11" data-path="../../scripting/load-assets.html">
            
                <a href="../../scripting/load-assets.html">
            
                    
                    获取和加载资源
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.12.12" data-path="../../scripting/scheduler.md">
            
                <span>
            
                    
                    使用计时器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.12.13" data-path="../../scripting/component.md">
            
                <span>
            
                    
                    组件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.12.14" data-path="../../scripting/execution-order-component.md">
            
                <span>
            
                    
                    组件顺序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.12.15" data-path="../../engine/event/">
            
                <a href="../../engine/event/">
            
                    
                    事件机制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.12.16" data-path="../../scripting/plugin-scripts.md">
            
                <span>
            
                    
                    插件脚本
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.12.17" data-path="../../scripting/log.md">
            
                <span>
            
                    
                    添加 Log
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.12.18" data-path="../../scripting/deprecated.md">
            
                <span>
            
                    
                    废弃 API
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.13" data-path="../../asset/">
            
                <a href="../../asset/">
            
                    
                    Asset Manual
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.13.1" data-path="../../asset/asset-workflow.html">
            
                <a href="../../asset/asset-workflow.html">
            
                    
                    Asset workflow
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.13.2" data-path="../../asset/load-assets.html">
            
                <a href="../../asset/load-assets.html">
            
                    
                    Loading assets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.13.3" data-path="../../asset/subpackage.html">
            
                <a href="../../asset/subpackage.html">
            
                    
                    Subpackages
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.13.4" data-path="../../asset/scene.html">
            
                <a href="../../asset/scene.html">
            
                    
                    Scene
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.13.5" data-path="../../asset/image.html">
            
                <a href="../../asset/image.html">
            
                    
                    Images
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.13.5.1" data-path="../../asset/texture.html">
            
                <a href="../../asset/texture.html">
            
                    
                    Textures
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.13.5.2" data-path="../../asset/sprite-frame.html">
            
                <a href="../../asset/sprite-frame.html">
            
                    
                    Sprite Frames
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.13.5.3" data-path="../../concepts/scene/skybox.html">
            
                <a href="../../concepts/scene/skybox.html#cubemap">
            
                    
                    Skybox
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.13.5.4" data-path="../../ui-system/components/engine/trim.html">
            
                <a href="../../ui-system/components/engine/trim.html">
            
                    
                    Texture Auto Trim
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.13.5.5" data-path="../../asset/compress-texture.html">
            
                <a href="../../asset/compress-texture.html">
            
                    
                    Compressed textures
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.13.5.6" data-path="../../asset/atlas.html">
            
                <a href="../../asset/atlas.html">
            
                    
                    Atlas
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.13.5.7" data-path="../../asset/auto-atlas.html">
            
                <a href="../../asset/auto-atlas.html">
            
                    
                    Auto Atlas
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.13.5.8" data-path="../../asset/render-texture.html">
            
                <a href="../../asset/render-texture.html">
            
                    
                    Render-texture
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.13.6" data-path="../../asset/prefab.html">
            
                <a href="../../asset/prefab.html">
            
                    
                    Prefab
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.13.7" data-path="../../asset/script.html">
            
                <a href="../../asset/script.html">
            
                    
                    Scripting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.13.8" data-path="../../asset/font.html">
            
                <a href="../../asset/font.html">
            
                    
                    Fonts
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.13.9" data-path="../../asset/audio.html">
            
                <a href="../../asset/audio.html">
            
                    
                    Audio
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.13.10" data-path="../../asset/material.html">
            
                <a href="../../asset/material.html">
            
                    
                    Material
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.13.11" data-path="../../asset/mesh.html">
            
                <a href="../../asset/mesh.html">
            
                    
                    Mesh
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.13.12" data-path="../../asset/anim.html">
            
                <a href="../../asset/anim.html">
            
                    
                    Animation assets
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.14" data-path="../../tests/index.md">
            
                <span>
            
                    
                    测试规范
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.14.1" data-path="../../tests/qa-process.md">
            
                <span>
            
                    
                    测试流程文档
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.14.2" data-path="../../tests/unit-test.md">
            
                <span>
            
                    
                    单元测试
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        

    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    <div class="page-wrapper" tabindex="-1" role="main">
                    

<div class="cocos-navbar navbar-collapse" id="navbar" role="navigation">
    <ul class="nav navbar-nav">
        <li><a href="https://cocos.com" class="btn" target="_blank"><img src="https://forum.cocos.org/images/logo.png" height="30" /></a></li>
        <li><a href="#" class="btn autohide" onclick="toggleLanguage()">中文</a></li>

    
    <li>
        <a href="#" class="btn autohide"><i class="fa fa-book"></i>Cocos Creator</a>
        <ul class="hovershow">
            
            <li><a href="https://docs.cocos.com/creator/manual/en" class="btn">Manual</a></li>
            
            <li><a href="https://docs.cocos.com/creator/api/en" class="btn">API Ref</a></li>
            
        </ul>
    </li>
    

    
    <li>
        <a href="#" class="btn autohide"><i class="fa fa-book"></i>Cocos Creator 3D</a>
        <ul class="hovershow">
            
            <li><a href="https://docs.cocos.com/creator3d/manual/en" class="btn">Manual</a></li>
            
            <li><a href="https://docs.cocos.com/creator3d/api/en" class="btn">API Ref</a></li>
            
        </ul>
    </li>
    

    
    <li>
        <a href="#" class="btn autohide"><i class="fa fa-book"></i>Cocos2d-x</a>
        <ul class="hovershow">
            
            <li><a href="https://docs.cocos.com/cocos2d-x/manual/en" class="btn">Manual</a></li>
            
            <li><a href="http://docs.cocos2d-x.org/api-ref/index.html" class="btn">API Ref</a></li>
            
        </ul>
    </li>
    


    
    <li class="version-link">
        <a class="btn" style="color:#444">Version: <span style="font-weight:bold">1.1</span></a>
        <ul class="hovershow">
            
            <li><a href="https://docs.cocos.com/creator3d/1.0/manual/en" class="btn">Version: <span style="font-weight:bold">1.0</span></a></li>
            
            <li><a href="https://docs.cocos.com/creator3d/manual/en" class="btn">Version: <span style="font-weight:bold">3.0 Tech Preview</span></a></li>
            
        </ul>
    </li>
    

    </ul>
</div>
<div class="book-header" role="navigation">
    
    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Quick Start: First Game</a>
    </h1>
</div>



                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="quick-start-making-your-first-game">Quick start: making your first game.</h1>
<p>The power of the <strong>Cocos Creator 3D</strong> editor is that it allows developers to quickly prototype games.</p>
<p>Let&apos;s follow a guided tutorial to make a magical game named <strong>Mind Your Step</strong>. This game tests the player&apos;s reaction ability, and chooses whether to jump one step or two steps according to traffic conditions.</p>
<p>You can try out the completed the game <a href="https://gameall3d.github.io/MindYourStep_Tutorial/index.html" target="_blank">here</a>.</p>
<p><img src="images/cocos-play.gif" alt=""></p>
<h2 id="new-project">New Project</h2>
<p>If you still don&#x2019;t know how to download and run <strong>Cocos Creator 3D</strong>, please review the <a href="../install/index.md">Installation and Starting</a> documentation.</p>
<p>To start a new project:</p>
<ol>
<li><p>Start <strong>Cocos Creator 3D</strong> and then create a new project named <strong>MindYourStep</strong>. If you don&#x2019;t know how to create a project, please read the <a href="../helloworld/">Hello World!</a> documentation.</p>
</li>
<li><p>After creating a new project, you should see the following editor interface:</p>
<p><img src="images/main-window.png" alt="main window"></p>
</li>
</ol>
<h2 id="creating-a-game-scene">Creating a game scene</h2>
<p>In <strong>Cocos Creator 3D</strong>, <strong>Scene</strong> is the center for organizing game content during development and the container for presenting all game content to players. The game scene will generally include the following components:</p>
<ul>
<li>Scene objects</li>
<li>Roles</li>
<li>User interface elements</li>
<li>Game logic, in the form of <strong>scripts</strong>, attached to <strong>Scene</strong> <strong>Nodes</strong> as <strong>Components</strong></li>
</ul>
<p>When the player runs the game, the game scene will be loaded. After the game scene is loaded, scripts of the included components will be automatically run. Apart from <strong>assets</strong>, game scenes are the foundation of all content creation. Now, to create a new <strong>Scene</strong>:</p>
<ol>
<li><p>In the <strong>Explorer</strong>, click to select the <strong>assets</strong> directory, click the <strong>+</strong> button in the upper left corner, select the folder, and name it <strong>Scenes</strong>. Example:</p>
<p><img src="images/create-folder.png" alt="create scene"></p>
</li>
<li><p>Click the <strong>Scenes</strong> directory first (the following pictures create some common folders in advance), click the right mouse button, and select <strong>Scene Files</strong> from the pop-up menu. Example:</p>
<p><img src="images/create-scene.png" alt="create scene"></p>
</li>
<li><p>We created a <strong>Scene</strong> file named <strong>New Scene</strong>. After the creation, the name of the scene file <strong>New Scene</strong> will be in the edit state. Rename it from <strong>New Scene</strong> to <strong>Main</strong>.</p>
</li>
<li><p>Double-click <strong>Main</strong> to open this <strong>Scene</strong> in <strong>Scene Editor</strong> and <strong>Hierarchy Manager</strong>.</p>
</li>
</ol>
<h2 id="adding-a-road">Adding a road</h2>
<p>Our main character needs to run from left to right on a road composed of cubes (blocks). Let&apos;s make the road by using a built-in cube.</p>
<ol>
<li><p>Right click on <strong>Scene Node</strong> in the <strong>Hierarchy Manager</strong>, then choose <strong>Create --&gt; 3D Object --&gt; Cube</strong></p>
<p><img src="images/create-cube.gif" alt="create cube"></p>
</li>
<li><p>Clone the cube to make two more cube with the shortcut key <strong>Ctrl+D</strong>.</p>
</li>
<li><p>Assign the <strong>Cubes</strong> each a unique position: </p>
<ul>
<li>First one at position <strong>(0, -1.5, 0)</strong>.</li>
<li>Second one at position <strong>(1, -1.5, 0)</strong>.</li>
<li>Third one at position <strong>(2, -1.5, 0)</strong>.</li>
</ul>
<p>The result is as follows:</p>
<p><img src="images/add-ground-base.png" alt="create ground"></p>
</li>
</ol>
<h2 id="add-a-main-character">Add a main character</h2>
<h3 id="create-a-main-character-node">Create a main character node</h3>
<p><strong>First</strong>, create an empty node named <code>Player</code>.</p>
<p><strong>Second</strong>, create a <strong>Model Component</strong> named <code>Body</code> under the <code>Player</code> node. For convenience, let&apos;s use the built-in <strong>Capsule</strong> model as the body of our main character.</p>
<p>  <img src="images/create-player.gif" alt="create player node"></p>
<p>The advantage of being divided into two nodes is that we can use the script to control the <code>Player</code> node to move the main character in the horizontal direction, and do some vertical animations on the <code>Body</code> node (such as falling after jumping in place), the two are superimposed to form a jumping animation.</p>
<p><strong>Third</strong>, set the <code>Player</code> node to the <code>(0, 0, 0)</code> position so that it can stand on the first square.</p>
<p>The effect is as follows:</p>
<p>   <img src="images/create-player.png" alt="create player"></p>
<h3 id="writing-a-script-for-the-main-character">Writing a script for the main character</h3>
<p>It is necessary for the main character to be affected when the mouse moves. To do this a custom script needs to be written. </p>
<h4 id="creating-a-script">Creating a script</h4>
<ol>
<li>If you have not yet created a <code>Scripts</code> folder, right-click the <strong>assets</strong> folder in the <strong>Explorer</strong> panel, select <strong>New -&gt; Folder</strong>, and rename the newly created folder to <code>Scripts</code>.</li>
<li>Right-click the <code>Scripts</code> folder and select <strong>New -&gt; TypeScript</strong> to create a new, blank <strong>TypeScript</strong> script. For <strong>TypeScript</strong> information, you can view the <a href="https://www.typescriptlang.org/" target="_blank">TypeScript Official Website</a>.</li>
<li><p>Change the name of the newly created script to <code>PlayerController</code> and the double-click the script to open the code editor (in, for example, <strong>VSCode</strong>).</p>
<p><img src="images/create-player-script.gif" alt="create player script"></p>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> The name of the script in <strong>Cocos Creator 3D</strong> is the name of the component. This name is case sensitive! If the capitalization of the component name is incorrect, the component cannot be used correctly by the name!</p>
</blockquote>
<h4 id="writing-script-code">Writing script code</h4>
<p>There are already some pre-set code blocks in the <code>PlayerController</code> script. Example:</p>
<pre><code class="lang-ts"><span class="hljs-keyword">import</span> { _decorator, Component } from <span class="hljs-string">&quot;cc&quot;</span>;
<span class="hljs-keyword">const</span> { ccclass, property } = _decorator;

@ccclass(<span class="hljs-string">&quot;PlayerController&quot;</span>)
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> PlayerController extends Component {
    <span class="hljs-comment">/* class member could be defined like this */</span>
    <span class="hljs-comment">// dummy = &apos;&apos;;</span>

    <span class="hljs-comment">/* use `property` decorator if your want the member to be serializable */</span>
    <span class="hljs-comment">// @property</span>
    <span class="hljs-comment">// serializableDummy = 0;</span>

    start () {
        <span class="hljs-comment">// Your initialization goes here.</span>
    }

    <span class="hljs-comment">// update (deltaTime: number) {</span>
    <span class="hljs-comment">//     // Your update function goes here.</span>
    <span class="hljs-comment">// }</span>
}
</code></pre>
<p>This code is the structure needed to write a <strong>component</strong>. Scripts with this structure are <strong>Components in Cocos Creator 3D</strong>. They can be attached to nodes in a <strong>Scene</strong> and provide various functionality for controlling nodes. For detailed information review the <a href="../../scripting/index.md">Script</a> documentation.</p>
<p>Monitoring of mouse events needs to be added in the script to let the <code>Player</code> node move. Modify the code in <code>PlayerController</code> as follows:</p>
<pre><code class="lang-ts"><span class="hljs-keyword">import</span> { _decorator, Component, Vec3, systemEvent, SystemEvent, EventMouse, AnimationComponent, v3 } from <span class="hljs-string">&quot;cc&quot;</span>;
<span class="hljs-keyword">const</span> { ccclass, property } = _decorator;

@ccclass(<span class="hljs-string">&quot;PlayerController&quot;</span>)
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> PlayerController extends Component {
    <span class="hljs-comment">/* class member could be defined like this */</span>
    <span class="hljs-comment">// dummy = &apos;&apos;;</span>

    <span class="hljs-comment">/* use `property` decorator if your want the member to be serializable */</span>
    <span class="hljs-comment">// @property</span>
    <span class="hljs-comment">// serializableDummy = 0;</span>

    <span class="hljs-comment">// for fake tween</span>
    <span class="hljs-keyword">private</span> _startJump: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">private</span> _jumpStep: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">private</span> _curJumpTime: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">private</span> _jumpTime: <span class="hljs-built_in">number</span> = <span class="hljs-number">0.1</span>;
    <span class="hljs-keyword">private</span> _curJumpSpeed: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">private</span> _curPos: Vec3 = v3();
    <span class="hljs-keyword">private</span> _deltaPos: Vec3 = v3(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
    <span class="hljs-keyword">private</span> _targetPos: Vec3 = v3();
    <span class="hljs-keyword">private</span> _isMoving = <span class="hljs-literal">false</span>;

    start () {
        <span class="hljs-comment">// Your initialization goes here.</span>
        systemEvent.on(SystemEvent.EventType.MOUSE_UP, <span class="hljs-keyword">this</span>.onMouseUp, <span class="hljs-keyword">this</span>);
    }

    onMouseUp(event: EventMouse) {
        <span class="hljs-keyword">if</span> (event.getButton() === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">this</span>.jumpByStep(<span class="hljs-number">1</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (event.getButton() === <span class="hljs-number">2</span>) {
            <span class="hljs-keyword">this</span>.jumpByStep(<span class="hljs-number">2</span>);
        }

    }

    jumpByStep(step: <span class="hljs-built_in">number</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isMoving) {
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">this</span>._startJump = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>._jumpStep = step;
        <span class="hljs-keyword">this</span>._curJumpTime = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>._curJumpSpeed = <span class="hljs-keyword">this</span>._jumpStep / <span class="hljs-keyword">this</span>._jumpTime;
        <span class="hljs-keyword">this</span>.node.getPosition(<span class="hljs-keyword">this</span>._curPos);
        Vec3.add(<span class="hljs-keyword">this</span>._targetPos, <span class="hljs-keyword">this</span>._curPos, v3(<span class="hljs-keyword">this</span>._jumpStep, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>));

        <span class="hljs-keyword">this</span>._isMoving = <span class="hljs-literal">true</span>;
    }

    onOnceJumpEnd() {
        <span class="hljs-keyword">this</span>._isMoving = <span class="hljs-literal">false</span>;
    }

    update (deltaTime: <span class="hljs-built_in">number</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._startJump) {
            <span class="hljs-keyword">this</span>._curJumpTime += deltaTime;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._curJumpTime &gt; <span class="hljs-keyword">this</span>._jumpTime) {
                <span class="hljs-comment">// end</span>
                <span class="hljs-keyword">this</span>.node.setPosition(<span class="hljs-keyword">this</span>._targetPos);
                <span class="hljs-keyword">this</span>._startJump = <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">this</span>.onOnceJumpEnd();
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// tween</span>
                <span class="hljs-keyword">this</span>.node.getPosition(<span class="hljs-keyword">this</span>._curPos);
                <span class="hljs-keyword">this</span>._deltaPos.x = <span class="hljs-keyword">this</span>._curJumpSpeed * deltaTime;
                Vec3.add(<span class="hljs-keyword">this</span>._curPos, <span class="hljs-keyword">this</span>._curPos, <span class="hljs-keyword">this</span>._deltaPos);
                <span class="hljs-keyword">this</span>.node.setPosition(<span class="hljs-keyword">this</span>._curPos);
            }
        }
    }
}
</code></pre>
<p><strong>Next</strong>, attach the <code>PlayerController</code> component to the <code>Player</code> node. Select the <code>Player</code> node in the <strong>Hierarchy Manager</strong>, then click the <strong>Add Component</strong> button in the <strong>Property Inspector</strong>, select <strong>Custom Script Component- &gt; PlayerController</strong> to the <code>Player</code> node to add the <code>PlayerController</code> component.</p>
<p>  <img src="images/add-player-controller.png" alt="add player controller comp"></p>
<p>In-order to see the object at runtime, we need to adjust some parameters of the <strong>Camera</strong> in the scene, set the <strong>position</strong> to <strong>(0, 0, 13)</strong>, and set the <strong>Color</strong> to <strong>(50, 90, 255, 255)</strong>:</p>
<p>  <img src="images/camera-setting.png" alt="camera setting"></p>
<p><strong>Now</strong>, click the <strong>Play</strong> button. Once running, click the left and right mouse buttons on the opened web page, you can see the following screen:</p>
<p>  <img src="images/player-move.gif" alt="player move"></p>
<p>For additional details please refer to the <a href="../../editor/preview/">Project Preview Debugging</a> documentation.</p>
<h3 id="adding-character-animations">Adding character animations</h3>
<p>The <code>Player</code> can be moved in a horizontal direction. This is a start, but not good enough. <code>Player</code> must become more life-like. This effect can be achieved by adding a vertical animation to the character. </p>
<blockquote>
<p><strong>Note</strong>: Before proceeding, please read the <a href="../../editor/animation/">Animation Editor</a> documentation.</p>
</blockquote>
<p>After reading and understanding the capabilities of the <strong>Animation Editor</strong> character animations can be implementated!</p>
<ol>
<li><p>Locate the <strong>Animation Editor</strong>, at the bottom of the editor alongside the <strong>Assets Preview</strong> and the <strong>Console</strong> panels. Select the <code>Body</code> node in the <strong>Scene</strong> and click to add an <strong>Animation Component</strong> and then click again tp create a new <strong>Animation Clip</strong>. Give this new <strong>Animation Clip</strong> a name of <code>oneStep</code>.</p>
<p><img src="images/add-animation.gif" alt="player move"></p>
</li>
<li><p>Enter <strong>animation editing mode</strong> in-order to add the <strong>position attribute</strong>. Next, add three <strong>key frames</strong> with position values &#x200B;&#x200B;of <strong>(0, 0, 0)</strong>, <strong>(0, 0.5, 0)</strong>, <strong>(0, 0, 0)</strong>.</p>
<p><img src="images/add-keyframe.gif" alt="add keyframe"></p>
</li>
</ol>
<blockquote>
<p><strong>Note</strong>: Remember to save the animation before exiting the animation editing mode, otherwise the animation will be lost.</p>
</blockquote>
<ol>
<li><p><strong>Animation Clips</strong> can also be created using the <strong>Explorer</strong> panel. Next, Create a <strong>Clip</strong> named <code>twoStep</code> and add it to the <strong>AnimationComponent</strong> on <code>Body</code>.</p>
<p><img src="images/add-animation-from-assets.gif" alt="add animation from assets"></p>
</li>
</ol>
<blockquote>
<p><strong>Note</strong>: The panel layout was adjusted for recording convenience.</p>
</blockquote>
<ol>
<li><p>Enter the <strong>animation editing mode</strong>, select and edit the <code>twoStep</code> clip. Similar to the second step, add three key frames at positions <strong>(0, 0, 0)</strong>, <strong>(0, 1, 0)</strong>, <strong>(0, 0, 0)</strong>.</p>
<p><img src="images/edit-second-clip.png" alt="edit second clip"></p>
</li>
<li><p>Reference the <strong>AnimationComponent</strong> in the<code>PlayerController</code> Component, as different animations need to be played according to the number of steps <code>Player</code> jumped.</p>
<p>First, reference the <strong>AnimationComponent</strong> on the <code>Body</code> in the <code>PlayerController</code> component.</p>
<pre><code class="lang-ts">   @property({<span class="hljs-keyword">type</span>: AnimationComponent})
   <span class="hljs-keyword">public</span> BodyAnim: AnimationComponent = <span class="hljs-literal">null</span>;
</code></pre>
<p>Then in the <strong>Property Inspector</strong>, drag the <code>AnimationComponent</code> to the <code>Body</code> variable.</p>
<p> <img src="images/drag-to-animComp.gif" alt="drag to animComp"></p>
<p> Add the animation playback code to the jump function <code>jumpByStep</code>:</p>
<pre><code class="lang-ts"> <span class="hljs-keyword">if</span> (step === <span class="hljs-number">1</span>) {
     <span class="hljs-keyword">this</span>.BodyAnim.play(<span class="hljs-string">&apos;oneStep&apos;</span>);
 } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (step === <span class="hljs-number">2</span>) {
     <span class="hljs-keyword">this</span>.BodyAnim.play(<span class="hljs-string">&apos;twoStep&apos;</span>);
 }
</code></pre>
<p>Click the <strong>Play</strong> button. When playing, click the left and right mouse buttons, you can see the new jump effect in action:</p>
<p>   <img src="images/preview-with-jump.gif" alt="preview with jump"></p>
</li>
</ol>
<h2 id="upgrading-the-road">Upgrading the road</h2>
<p>In-order to make the gameplay longer and more enjoyable, we need a long stretch of road to let the <code>Player</code> run all the way to the right. Copying a bunch of cubes in the <strong>Scene</strong> and editing the position of each cube to form the road is not a wise practice. We can, however, complete this by using a script to automatically create the road pieces.</p>
<h3 id="a-game-manager-can-help">A &quot;Game Manager&quot; can help.</h3>
<p>Most games have a <strong>manager</strong>, which is mainly responsible for the management of the entire game life-cycle. You can put the code for the dynamic creation of the road in this same manager. Create a node named <code>GameManager</code> in the <strong>Scene</strong>. Next, create a TypesScript file named <code>GameManager</code> in <code>assets/Scripts</code> and add it to the <code>GameManager</code> node.</p>
<h3 id="making-a-prefab">Making a Prefab</h3>
<p>For a node that needs to be generated repeatedly, it can be saved as a <strong>Prefab (prefabricated)</strong> resource. This means it can be used as a template when we dynamically generate other nodes of this same type.</p>
<blockquote>
<p><strong>Note</strong>: Before proceeding, please read the <a href="../../asset/prefab.html">Prefab Resources</a> documentation.</p>
</blockquote>
<p>It is necesssary to make the basic element <code>cube</code> of the road into a <strong>Prefab</strong>, after which all three cubes in the <strong>Scene</strong> can be deleted.</p>
<p>   <img src="images/create-cube-prefab.gif" alt="create cube prefab"></p>
<h3 id="adding-the-automatic-road-creation">Adding the automatic road creation</h3>
<p>A very long road is needed. The ideal method is to dynamically increase the length of the road, so that the <code>Player</code> can run forever. First, generate a fixed-length road with a length that is arbitraty. To do so, replace the code in the <code>GameManager</code> script with the following code:</p>
<pre><code class="lang-ts"><span class="hljs-keyword">import</span> { _decorator, Component, Prefab, instantiate, Node, CCInteger} from <span class="hljs-string">&quot;cc&quot;</span>;
<span class="hljs-keyword">const</span> { ccclass, property } = _decorator;

<span class="hljs-keyword">enum</span> BlockType{
    BT_NONE,
    BT_STONE,
};

@ccclass(<span class="hljs-string">&quot;GameManager&quot;</span>)
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> GameManager extends Component {

    @property({<span class="hljs-keyword">type</span>: Prefab})
    <span class="hljs-keyword">public</span> cubePrfb: Prefab = <span class="hljs-literal">null</span>;
    @property({<span class="hljs-keyword">type</span>: CCInteger})
    <span class="hljs-keyword">public</span> roadLength: <span class="hljs-built_in">Number</span> = <span class="hljs-number">50</span>;
    <span class="hljs-keyword">private</span> _road: <span class="hljs-built_in">number</span>[] = [];

    start () {
        <span class="hljs-keyword">this</span>.generateRoad();
    }

    generateRoad() {

        <span class="hljs-keyword">this</span>.node.removeAllChildren(<span class="hljs-literal">true</span>);

        <span class="hljs-keyword">this</span>._road = [];
        <span class="hljs-comment">// startPos</span>
        <span class="hljs-keyword">this</span>._road.push(BlockType.BT_STONE);

        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-keyword">this</span>.roadLength; i++) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._road[i<span class="hljs-number">-1</span>] === BlockType.BT_NONE) {
                <span class="hljs-keyword">this</span>._road.push(BlockType.BT_STONE);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">this</span>._road.push(<span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">2</span>));
            }
        }

        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-keyword">this</span>._road.length; j++) {
            <span class="hljs-keyword">let</span> block: Node = <span class="hljs-keyword">this</span>.spawnBlockByType(<span class="hljs-keyword">this</span>._road[j]);
            <span class="hljs-keyword">if</span> (block) {
                <span class="hljs-keyword">this</span>.node.addChild(block);
                block.setPosition(j, <span class="hljs-number">-1.5</span>, <span class="hljs-number">0</span>);
            }
        }
    }

    spawnBlockByType(<span class="hljs-keyword">type</span>: BlockType) {
        <span class="hljs-keyword">let</span> block = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">switch</span>(<span class="hljs-keyword">type</span>) {
            <span class="hljs-keyword">case</span> BlockType.BT_STONE:
                block = instantiate(<span class="hljs-keyword">this</span>.cubePrfb);
                <span class="hljs-keyword">break</span>;
        }

        <span class="hljs-keyword">return</span> block;
    }

    <span class="hljs-comment">// update (deltaTime: number) {</span>
    <span class="hljs-comment">//     // Your update function goes here.</span>
    <span class="hljs-comment">// }</span>
}
</code></pre>
<p>The length of the road can be changed by modifying the value of <code>roadLength</code> in the <strong>Properties</strong> panel for the <code>GameManager</code>.</p>
<p>When previewing, the road is now automatically generated, however, because the <strong>Camera</strong> does not follow the <code>Player</code>, the road behind cannot be seen. Changing the <strong>Camera</strong> in the <strong>Scene</strong> to be a child node of the <code>Player</code> can help solve this.</p>
<p>  <img src="images/drag-camera-to-player.gif" alt="drag camera to player"></p>
<p>Now, the <strong>Camera</strong> will follow the Player&apos;s movement.</p>
<h2 id="adding-a-start-menu">Adding a start menu</h2>
<p>The <strong>start menu</strong> is an indispensable part of most any game. Add the game name, game introduction, production staff and other information here. Creating a simple start menu starts with some basic steps:</p>
<ol>
<li><p>Add a button called <code>Play</code></p>
<p> <img src="images/create-button.gif" alt="create button"></p>
<p>This operation creates a <code>Canvas</code> node, a <code>PlayButton</code> node, and a <code>Label</code> node. Because the UI component needs to be displayed under the parent node with <code>CanvasComponent</code>, the editor will automatically add one when it finds that there is not a node with this component in the current <strong>Scene</strong>. After creating the button, change the <code>String</code> property of <code>cc.LabelComponent</code> on the <code>Label</code> node from <code>Button</code> to <code>Play.</code></p>
</li>
<li><p>Create an empty node named <code>StartMenu</code> under <code>Canvas</code> and drag <code>PlayButton</code> under it. We can switch to the 2D editing view for UI editing operations by clicking the 2D/3D button on the toolbar.</p>
<blockquote>
<p><strong>Note</strong>: 2D View is this toolbar button <img src="images/2d-view.png" alt="2d-view">. </p>
<p><strong>Note</strong>: Before proceeding, please read the <a href="../../editor/scene/">Scene Editing</a> documentation.</p>
</blockquote>
</li>
<li><p>Add a background frame by creating a Sprite node named <code>BG</code> under <code>StartMenu</code>. Adjust <code>BG</code>&apos;s position to above the <code>PlayButton</code>, setting the <em>width</em> and <em>height</em> to <strong>(200, 200)</strong>, and setting its <strong>SpriteFrame</strong> to <code>internal/default_ui/ default_sprite_splash</code>.</p>
<p> <img src="images/change-spriteFrame.png" alt="change spriteFrame"></p>
</li>
<li><p>Add a <strong>Label</strong> called <code>Title</code> for the title of the start menu.</p>
<p><img src="images/add-label-title.gif" alt="add title label"></p>
</li>
<li><p>Modify the text for <code>Title</code> and adjust it&apos;s <em>position</em>, <em>text size</em> and <em>color</em>.</p>
<p><img src="images/title-inspector.png" alt="modify title"></p>
</li>
<li><p>Adjust the position of the <code>PlayButton</code>. The layout of a simple <strong>start menu</strong> is complete.</p>
<p><img src="images/start-menu.png" alt="modify title"></p>
</li>
<li><p>Add game state logic, generally it can be divided into three states:</p>
<ul>
<li><strong>Init</strong>: display the game menu and initialize some resources.</li>
<li><strong>Playing</strong>: hide the game menu, players can operate the game.</li>
<li><strong>End</strong>: end the game and display the ending menu.</li>
</ul>
<p>Use an enum type to represent these states.</p>
<pre><code class="lang-ts"> <span class="hljs-keyword">enum</span> BlockType{
     BT_NONE,
     BT_STONE,
 };

 <span class="hljs-keyword">enum</span> GameState{
     GS_INIT,
     GS_PLAYING,
     GS_END,
 };
</code></pre>
<p> Add a private variable that represents the current state to the <code>GameManager</code> script</p>
<pre><code class="lang-ts"> <span class="hljs-keyword">private</span> _curState: GameState = GameState.GS_INIT;
</code></pre>
<p> In-order not to let the user operate the character at the beginning, but to allow the user to operate the character while the game is in progress, we need to dynamically turn on and off the character&apos;s monitoring of mouse messages. This can be done with the following changes to <code>PlayerController</code>:</p>
<pre><code class="lang-ts"> start () {
     <span class="hljs-comment">// Your initialization goes here.</span>
     <span class="hljs-comment">//systemEvent.on(SystemEvent.EventType.MOUSE_UP, this.onMouseUp, this);</span>
 }

 setInputActive(active: <span class="hljs-built_in">boolean</span>) {
     <span class="hljs-keyword">if</span> (active) {
         systemEvent.on(SystemEvent.EventType.MOUSE_UP, <span class="hljs-keyword">this</span>.onMouseUp, <span class="hljs-keyword">this</span>);
     } <span class="hljs-keyword">else</span> {
         systemEvent.off(SystemEvent.EventType.MOUSE_UP, <span class="hljs-keyword">this</span>.onMouseUp, <span class="hljs-keyword">this</span>);
     }
 }
</code></pre>
<p> Next, reference <code>PlayerController</code> in the <code>GameManager</code> script. Drag the <code>Player</code> variable in the <strong>Inspector</strong> panel.</p>
<pre><code class="lang-ts"> @property({<span class="hljs-keyword">type</span>: PlayerController})
 <span class="hljs-keyword">public</span> playerCtrl: PlayerController = <span class="hljs-literal">null</span>;
</code></pre>
<p> In-order to dynamically open/close the open menu, the <code>StartMenu</code> needs to be referenced in the <code>GameManager</code>. Drag the <code>StartMenu</code> of the scene into this variable in the <strong>Inspector</strong> panel.</p>
<pre><code class="lang-ts"> @property({<span class="hljs-keyword">type</span>: Node})
 <span class="hljs-keyword">public</span> startMenu: Node = <span class="hljs-literal">null</span>;
</code></pre>
<p> <img src="images/game-manager-player.png" alt="add player to game manager"></p>
<p> Modify the code in the <code>GameManger</code>:</p>
<pre><code class="lang-ts"> start () {
     <span class="hljs-keyword">this</span>.curState = GameState.GS_INIT;
 }

 init() {
     <span class="hljs-keyword">this</span>.startMenu.active = <span class="hljs-literal">true</span>;
     <span class="hljs-keyword">this</span>.generateRoad();
     <span class="hljs-keyword">this</span>.playerCtrl.setInputActive(<span class="hljs-literal">false</span>);
     <span class="hljs-keyword">this</span>.playerCtrl.node.setPosition(v3());
 }

 <span class="hljs-keyword">set</span> curState (value: GameState) {
     <span class="hljs-keyword">switch</span>(value) {
         <span class="hljs-keyword">case</span> GameState.GS_INIT:
             <span class="hljs-keyword">this</span>.init();
             <span class="hljs-keyword">break</span>;
         <span class="hljs-keyword">case</span> GameState.GS_PLAYING:
             <span class="hljs-keyword">this</span>.startMenu.active = <span class="hljs-literal">false</span>;
             <span class="hljs-comment">// Directly setting active will directly start monitoring</span>
             <span class="hljs-comment">// mouse events, and do a little delay processing</span>
             setTimeout(() =&gt; {
                 <span class="hljs-keyword">this</span>.playerCtrl.setInputActive(<span class="hljs-literal">true</span>);
             }, <span class="hljs-number">0.1</span>);
             <span class="hljs-keyword">break</span>;
         <span class="hljs-keyword">case</span> GameState.GS_END:
             <span class="hljs-keyword">break</span>;
     }
     <span class="hljs-keyword">this</span>._curState = value;
 }
</code></pre>
</li>
<li><p>Add event monitoring to the <code>Play</code> button. In-order to start the game after clicking the <code>Play</code> button, the button needs to respond to click events. Add code that responds to the button click in the <code>GameManager</code> script, and click to enter the game&apos;s <code>Playing</code> state:</p>
<pre><code class="lang-ts"> onStartButtonClicked() {
     <span class="hljs-keyword">this</span>.curState = GameState.GS_PLAYING;
 }
</code></pre>
<p> Next, add the response function of <strong>Click Events</strong> in the <strong>Inspector</strong> panbel for the <code>Play</code> button.</p>
<p> <img src="images/play-button-inspector.png" alt="play button inspector"></p>
</li>
</ol>
<p>Now, preview the scene by clicking the <code>Play</code> button to start the game.</p>
<h2 id="adding-game-end-logic">Adding game end logic</h2>
<p>The game character is just running forward, with no purpose. Adding game rules to make the game play more challenging would make the game more playable and give it a purpose.</p>
<ol>
<li><p>The character needs to send a message at the end of each jump. This message shoul record how many steps the character jumped and its current position. This can be done in <code>PlayerController</code>.</p>
<pre><code class="lang-ts"> <span class="hljs-keyword">private</span> _curMoveIndex = <span class="hljs-number">0</span>;
 <span class="hljs-comment">// ...</span>
 jumpByStep(step: <span class="hljs-built_in">number</span>) {
     <span class="hljs-comment">// ...</span>

     <span class="hljs-keyword">this</span>._curMoveIndex += step;
 }
</code></pre>
<p>Send a message at the end of each jump:</p>
<pre><code class="lang-ts"> onOnceJumpEnd() {
     <span class="hljs-keyword">this</span>._isMoving = <span class="hljs-literal">false</span>;
     <span class="hljs-keyword">this</span>.node.emit(<span class="hljs-string">&apos;JumpEnd&apos;</span>, <span class="hljs-keyword">this</span>._curMoveIndex);
 }
</code></pre>
</li>
<li><p>Monitor the character&apos;s jumping end event in <code>GameManager</code>, and judge the winning or losing of the game, according to the rules.</p>
<p>Increase the failure and ending logic to judge how the game is being played.If <code>Player</code> jumps to an empty square or exceeds the maximum length value, the game will end:</p>
<pre><code class="lang-ts"> checkResult(moveIndex: <span class="hljs-built_in">number</span>) {
     <span class="hljs-keyword">if</span> (moveIndex &lt;= <span class="hljs-keyword">this</span>.roadLength) {
         <span class="hljs-comment">// Jump to the empty square</span>
         <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._road[moveIndex] == BlockType.BT_NONE) {   
             <span class="hljs-keyword">this</span>.curState = GameState.GS_INIT;
         }
     } <span class="hljs-keyword">else</span> {    <span class="hljs-comment">// skipped the maximum length</span>
         <span class="hljs-keyword">this</span>.curState = GameState.GS_INIT;
     }
 }
</code></pre>
<p>Monitor the character&apos;s jump message and call a function to decide:</p>
<pre><code class="lang-ts"> start () {
     <span class="hljs-keyword">this</span>.curState = GameState.GS_INIT;
     <span class="hljs-keyword">this</span>.playerCtrl.node.on(<span class="hljs-string">&apos;JumpEnd&apos;</span>, <span class="hljs-keyword">this</span>.onPlayerJumpEnd, <span class="hljs-keyword">this</span>);
 }

 <span class="hljs-comment">// ...</span>
 onPlayerJumpEnd(moveIndex: <span class="hljs-built_in">number</span>) {
     <span class="hljs-keyword">this</span>.checkResult(moveIndex);
 }
</code></pre>
<p>If you preview playing the game now, there will be a logic error when restarting the game. This is because we did not reset the <code>_curMoveIndex</code> property value in <code>PlayerController</code> when the game restarts. To fix this, add a reset function in <code>PlayerController</code>.</p>
<pre><code class="lang-ts"> reset() {
     <span class="hljs-keyword">this</span>._curMoveIndex = <span class="hljs-number">0</span>;
 }
</code></pre>
<p>Call <code>reset()</code> in the <code>init</code> function of <code>GameManager</code> to reset the properties of <code>PlayerController</code>.</p>
<pre><code class="lang-ts"> init() {
     \\ ...
     <span class="hljs-keyword">this</span>.playerCtrl.reset();
 }
</code></pre>
</li>
</ol>
<h2 id="step-counting-display">Step counting display</h2>
<p>We can display the current number of steps jumped in the interface. Perhaps watching the continuous growth of steps during the jump will be very fulfilling to the player.</p>
<ol>
<li><p>Create a new label named <code>Steps</code> under <strong>Canvas</strong>, adjust the <em>position</em>, <em>font size</em> and <em>other properties</em>.</p>
<p><img src="images/steps-label.png" alt="steps label"></p>
</li>
<li><p>Reference the <code>Steps</code> label in <code>GameManager</code></p>
<pre><code class="lang-ts"> @property({<span class="hljs-keyword">type</span>: LabelComponent})
 <span class="hljs-keyword">public</span> stepsLabel: LabelComponent = <span class="hljs-literal">null</span>;
</code></pre>
<p><img src="images/add-steps-to-game-manager.png" alt="steps label to game manager"></p>
</li>
<li><p>Update the current <code>Step</code> data to appear in new <code>Steps</code> Label. A game ending interface has yet to be created, for now, reset the number of steps to <strong>0</strong> when restarting playing.</p>
<pre><code class="lang-ts"> <span class="hljs-keyword">set</span> curState (value: GameState) {
     <span class="hljs-keyword">switch</span>(value) {
         <span class="hljs-keyword">case</span> GameState.GS_INIT:
             <span class="hljs-keyword">this</span>.init();
             <span class="hljs-keyword">break</span>;
         <span class="hljs-keyword">case</span> GameState.GS_PLAYING:
             <span class="hljs-keyword">this</span>.startMenu.active = <span class="hljs-literal">false</span>;
             <span class="hljs-comment">//  reset the number of steps to 0</span>
             <span class="hljs-keyword">this</span>.stepsLabel.string = <span class="hljs-string">&apos;0&apos;</span>;  
             <span class="hljs-comment">// set active directly to start listening for mouse events directly </span>
             setTimeout(() =&gt; {   
                 <span class="hljs-keyword">this</span>.playerCtrl.setInputActive(<span class="hljs-literal">true</span>);
             }, <span class="hljs-number">0.1</span>);
             <span class="hljs-keyword">break</span>;
         <span class="hljs-keyword">case</span> GameState.GS_END:
             <span class="hljs-keyword">break</span>;
     }
     <span class="hljs-keyword">this</span>._curState = value;
 }
</code></pre>
<p> Update the <code>Steps</code> Label in a function that responds to the character jumping. It should make sense that recording the number of <code>Steps</code> would take place after each and every jump for accuracy.</p>
<pre><code class="lang-ts"> onPlayerJumpEnd(moveIndex: <span class="hljs-built_in">number</span>) {
     <span class="hljs-keyword">this</span>.stepsLabel.string = <span class="hljs-string">&apos;&apos;</span> + moveIndex;
     <span class="hljs-keyword">this</span>.checkResult(moveIndex);
 }
</code></pre>
</li>
</ol>
<h2 id="lights-and-shadows">Lights and shadows</h2>
<p>Where there is light, there will be a shadow. Light and shadows create a 3D world where light and dark intersect. Next, let&apos;s add a simple shadow to the character.</p>
<h3 id="turning-on-shadows">Turning on shadows</h3>
<ol>
<li><p>In the <strong>Hieracrhy Manager</strong>, click the <code>Scene</code> node at the top, check <code>Enabled</code> in the <code>planShadows</code> property, and modify the <code>Distance</code> and <code>Normal</code> parameters</p>
<p> <img src="images/planarShadows.png" alt="planar shadows"></p>
</li>
<li><p>Click the <code>Body</code> node, under the <code>Player</code> node, and set <code>ShadowCastingMode</code> under <code>cc.ModelComponent</code> to <code>ON</code>.</p>
<p> <img src="images/model-shadow.png" alt="model shadow"></p>
</li>
</ol>
<p>A patch of shadow can be seen in the in the <strong>Scene</strong> editor. However, this shadow cannot be seen when previewing because it is covered by the capsule body that is directly behind the model.</p>
<p><img src="images/player-shadow-scene.png" alt="player shadow"></p>
<h3 id="adjusting-the-light">Adjusting the light</h3>
<p>When creating a new scene, a <code>DirctionalLight</code> will be added <strong>by default</strong>, and the shadow will be calculated from this parallel light. The direction of this parallel light can be adjusted in-order to display the shadow in another position.</p>
<p>In the <strong>Hierarchy Manager</strong>, click to select the <code>Main Light</code> node and adjust the <code>Rotation</code> parameter to <strong>(-10, 17, 0)</strong>.</p>
<p><img src="images/main-light.png" alt="main light"></p>
<p>Preview the game and you can see this effect:</p>
<p><img src="images/player-shadow-preview.png" alt="player shadow preview"></p>
<h2 id="adding-a-character-model">Adding a character model</h2>
<p>Using the capsule body as the character is a bit shabby, we can change this to make a Cocos character.</p>
<h3 id="importing-model-resources">Importing model resources</h3>
<p>Copy the <code>cocos</code> folder under the <code>assets</code> directory in <a href="https://github.com/cocos-creator/tutorial-mind-your-step-3d" target="_blank">Project Engineering</a> to the <code>assets</code> directory of your own project.</p>
<h3 id="adding-to-the-scene">Adding to the scene</h3>
<p>A prefab called <code>Cocos</code> has been included in the cocos file, drag it to the <code>Body</code> node under <code>Player</code> in the scene.</p>
<p><img src="images/add-cocos-prefab.png" alt="add cocos prefab"></p>
<p>The model is a little dark and a spotlight can be added to highlight its shiny brain.</p>
<p><img src="images/cocos-add-light.png" alt="add cocos light"></p>
<h3 id="adding-a-jumping-animation">Adding a jumping animation</h3>
<p>When previewing the game, the character will initially have a standby animation, but a jumping animation needs to be used during a jump.</p>
<p>First, add a variable in the <code>PlayerController</code> class that references the model animation:</p>
<pre><code class="lang-ts">    @property({<span class="hljs-keyword">type</span>: SkeletalAnimationComponent})
    <span class="hljs-keyword">public</span> CocosAnim: SkeletalAnimationComponent = <span class="hljs-literal">null</span>;
</code></pre>
<p>Then, in the <strong>Inspector</strong>, drag the <code>Cocos</code> node into this variable. </p>
<p>The jump animation needs to be used in the <code>jumpByStep</code> function.</p>
<pre><code class="lang-ts">jumpByStep(step: <span class="hljs-built_in">number</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isMoving) {
        <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-keyword">this</span>._startJump = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">this</span>._jumpStep = step;
    <span class="hljs-keyword">this</span>._curJumpTime = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">this</span>._curJumpSpeed = <span class="hljs-keyword">this</span>._jumpStep / <span class="hljs-keyword">this</span>._jumpTime;
    <span class="hljs-keyword">this</span>.node.getPosition(<span class="hljs-keyword">this</span>._curPos);
    Vec3.add(<span class="hljs-keyword">this</span>._targetPos, <span class="hljs-keyword">this</span>._curPos, v3(<span class="hljs-keyword">this</span>._jumpStep, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>));

    <span class="hljs-keyword">this</span>._isMoving = <span class="hljs-literal">true</span>;

    <span class="hljs-comment">// The jumping animation takes a long time, here is accelerated playback</span>
    <span class="hljs-keyword">this</span>.CocosAnim.getState(<span class="hljs-string">&apos;cocos_anim_jump&apos;</span>).speed = <span class="hljs-number">3.5</span>;
    <span class="hljs-comment">// Play jumping animation</span>
    <span class="hljs-keyword">this</span>.CocosAnim.play(<span class="hljs-string">&apos;cocos_anim_jump&apos;</span>);
    <span class="hljs-keyword">if</span> (step === <span class="hljs-number">1</span>) {
        <span class="hljs-comment">//this.BodyAnim.play(&apos;oneStep&apos;);</span>
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (step === <span class="hljs-number">2</span>) {
        <span class="hljs-keyword">this</span>.BodyAnim.play(<span class="hljs-string">&apos;twoStep&apos;</span>);
    }

    <span class="hljs-keyword">this</span>._curMoveIndex += step;
}
</code></pre>
<p>In the <code>onOnceJumpEnd</code> function, change to the standby state and play the standby animation.</p>
<pre><code class="lang-ts">onOnceJumpEnd() {
    <span class="hljs-keyword">this</span>._isMoving = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">this</span>.CocosAnim.play(<span class="hljs-string">&apos;cocos_anim_idle&apos;</span>);
    <span class="hljs-keyword">this</span>.node.emit(<span class="hljs-string">&apos;JumpEnd&apos;</span>, <span class="hljs-keyword">this</span>._curMoveIndex);
}
</code></pre>
<p>When previewing, the results are as follows:</p>
<p><img src="images/cocos-play.gif" alt="cocos play"></p>
<h2 id="final-code">Final Code</h2>
<p>The final code for <code>PlayerController.ts</code> should look like this:</p>
<pre><code class="lang-ts"><span class="hljs-keyword">import</span> { _decorator, Component, Vec3, systemEvent, SystemEvent, EventMouse, AnimationComponent, SkeletalAnimationComponent, v3 } from <span class="hljs-string">&quot;cc&quot;</span>;
<span class="hljs-keyword">const</span> { ccclass, property } = _decorator;

@ccclass(<span class="hljs-string">&quot;PlayerController&quot;</span>)
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> PlayerController extends Component {

    @property({<span class="hljs-keyword">type</span>: AnimationComponent})
    <span class="hljs-keyword">public</span> BodyAnim: AnimationComponent = <span class="hljs-literal">null</span>;
    @property({<span class="hljs-keyword">type</span>: SkeletalAnimationComponent})
    <span class="hljs-keyword">public</span> CocosAnim: SkeletalAnimationComponent = <span class="hljs-literal">null</span>;

    <span class="hljs-comment">// for fake tween</span>
    <span class="hljs-keyword">private</span> _startJump: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">private</span> _jumpStep: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">private</span> _curJumpTime: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">private</span> _jumpTime: <span class="hljs-built_in">number</span> = <span class="hljs-number">0.3</span>;
    <span class="hljs-keyword">private</span> _curJumpSpeed: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">private</span> _curPos: Vec3 = v3();
    <span class="hljs-keyword">private</span> _deltaPos: Vec3 = v3(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
    <span class="hljs-keyword">private</span> _targetPos: Vec3 = v3();
    <span class="hljs-keyword">private</span> _isMoving = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">private</span> _curMoveIndex = <span class="hljs-number">0</span>;

    start () {
    }

    reset() {
        <span class="hljs-keyword">this</span>._curMoveIndex = <span class="hljs-number">0</span>;
    }

    setInputActive(active: <span class="hljs-built_in">boolean</span>) {
        <span class="hljs-keyword">if</span> (active) {
            systemEvent.on(SystemEvent.EventType.MOUSE_UP, <span class="hljs-keyword">this</span>.onMouseUp, <span class="hljs-keyword">this</span>);
        } <span class="hljs-keyword">else</span> {
            systemEvent.off(SystemEvent.EventType.MOUSE_UP, <span class="hljs-keyword">this</span>.onMouseUp, <span class="hljs-keyword">this</span>);
        }
    }

    onMouseUp(event: EventMouse) {
        <span class="hljs-keyword">if</span> (event.getButton() === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">this</span>.jumpByStep(<span class="hljs-number">1</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (event.getButton() === <span class="hljs-number">2</span>) {
            <span class="hljs-keyword">this</span>.jumpByStep(<span class="hljs-number">2</span>);
        }

    }

    jumpByStep(step: <span class="hljs-built_in">number</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isMoving) {
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">this</span>._startJump = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>._jumpStep = step;
        <span class="hljs-keyword">this</span>._curJumpTime = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>._curJumpSpeed = <span class="hljs-keyword">this</span>._jumpStep / <span class="hljs-keyword">this</span>._jumpTime;
        <span class="hljs-keyword">this</span>.node.getPosition(<span class="hljs-keyword">this</span>._curPos);
        Vec3.add(<span class="hljs-keyword">this</span>._targetPos, <span class="hljs-keyword">this</span>._curPos, v3(<span class="hljs-keyword">this</span>._jumpStep, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>));

        <span class="hljs-keyword">this</span>._isMoving = <span class="hljs-literal">true</span>;

        <span class="hljs-comment">// The jumping animation takes a long time, here is accelerated playback</span>
        <span class="hljs-keyword">this</span>.CocosAnim.getState(<span class="hljs-string">&apos;cocos_anim_jump&apos;</span>).speed = <span class="hljs-number">3.5</span>;
        <span class="hljs-comment">// Play jumping animation</span>
        <span class="hljs-keyword">this</span>.CocosAnim.play(<span class="hljs-string">&apos;cocos_anim_jump&apos;</span>);
        <span class="hljs-keyword">if</span> (step === <span class="hljs-number">1</span>) {
            <span class="hljs-comment">//this.BodyAnim.play(&apos;oneStep&apos;);</span>
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (step === <span class="hljs-number">2</span>) {
            <span class="hljs-keyword">this</span>.BodyAnim.play(<span class="hljs-string">&apos;twoStep&apos;</span>);
        }

        <span class="hljs-keyword">this</span>._curMoveIndex += step;
    }

    onOnceJumpEnd() {
        <span class="hljs-keyword">this</span>._isMoving = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.CocosAnim.play(<span class="hljs-string">&apos;cocos_anim_idle&apos;</span>);
        <span class="hljs-keyword">this</span>.node.emit(<span class="hljs-string">&apos;JumpEnd&apos;</span>, <span class="hljs-keyword">this</span>._curMoveIndex);
    }

    update (deltaTime: <span class="hljs-built_in">number</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._startJump) {
            <span class="hljs-keyword">this</span>._curJumpTime += deltaTime;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._curJumpTime &gt; <span class="hljs-keyword">this</span>._jumpTime) {
                <span class="hljs-comment">// end</span>
                <span class="hljs-keyword">this</span>.node.setPosition(<span class="hljs-keyword">this</span>._targetPos);
                <span class="hljs-keyword">this</span>._startJump = <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">this</span>.onOnceJumpEnd();
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// tween</span>
                <span class="hljs-keyword">this</span>.node.getPosition(<span class="hljs-keyword">this</span>._curPos);
                <span class="hljs-keyword">this</span>._deltaPos.x = <span class="hljs-keyword">this</span>._curJumpSpeed * deltaTime;
                Vec3.add(<span class="hljs-keyword">this</span>._curPos, <span class="hljs-keyword">this</span>._curPos, <span class="hljs-keyword">this</span>._deltaPos);
                <span class="hljs-keyword">this</span>.node.setPosition(<span class="hljs-keyword">this</span>._curPos);
            }
        }
    }
}
</code></pre>
<p>The final code for <code>GameManager.ts</code> should look like this:</p>
<pre><code class="lang-ts"><span class="hljs-keyword">import</span> { _decorator, Component, Prefab, instantiate, Node, LabelComponent, CCInteger, v3} from <span class="hljs-string">&quot;cc&quot;</span>;
<span class="hljs-keyword">import</span> { PlayerController } from <span class="hljs-string">&quot;./PlayerController&quot;</span>;
<span class="hljs-keyword">const</span> { ccclass, property } = _decorator;

<span class="hljs-keyword">enum</span> BlockType{
    BT_NONE,
    BT_STONE,
};

<span class="hljs-keyword">enum</span> GameState{
    GS_INIT,
    GS_PLAYING,
    GS_END,
};

@ccclass(<span class="hljs-string">&quot;GameManager&quot;</span>)
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> GameManager extends Component {

    @property({<span class="hljs-keyword">type</span>: Prefab})
    <span class="hljs-keyword">public</span> cubePrfb: Prefab = <span class="hljs-literal">null</span>;
    @property({<span class="hljs-keyword">type</span>: CCInteger})
    <span class="hljs-keyword">public</span> roadLength: <span class="hljs-built_in">Number</span> = <span class="hljs-number">50</span>;
    <span class="hljs-keyword">private</span> _road: <span class="hljs-built_in">number</span>[] = [];
    @property({<span class="hljs-keyword">type</span>: Node})
    <span class="hljs-keyword">public</span> startMenu: Node = <span class="hljs-literal">null</span>;
    @property({<span class="hljs-keyword">type</span>: PlayerController})
    <span class="hljs-keyword">public</span> playerCtrl: PlayerController = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">private</span> _curState: GameState = GameState.GS_INIT;
    @property({<span class="hljs-keyword">type</span>: LabelComponent})
    <span class="hljs-keyword">public</span> stepsLabel: LabelComponent = <span class="hljs-literal">null</span>;

    start () {
        <span class="hljs-keyword">this</span>.curState = GameState.GS_INIT;
        <span class="hljs-keyword">this</span>.playerCtrl.node.on(<span class="hljs-string">&apos;JumpEnd&apos;</span>, <span class="hljs-keyword">this</span>.onPlayerJumpEnd, <span class="hljs-keyword">this</span>);
    }

    init() {
        <span class="hljs-keyword">this</span>.startMenu.active = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>.generateRoad();
        <span class="hljs-keyword">this</span>.playerCtrl.setInputActive(<span class="hljs-literal">false</span>);
        <span class="hljs-keyword">this</span>.playerCtrl.node.setPosition(v3());
        <span class="hljs-keyword">this</span>.playerCtrl.reset();
    }

    <span class="hljs-keyword">set</span> curState (value: GameState) {
        <span class="hljs-keyword">switch</span>(value) {
            <span class="hljs-keyword">case</span> GameState.GS_INIT:
                <span class="hljs-keyword">this</span>.init();
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> GameState.GS_PLAYING:
                <span class="hljs-keyword">this</span>.startMenu.active = <span class="hljs-literal">false</span>;
                <span class="hljs-comment">//  reset the number of steps to 0</span>
                <span class="hljs-keyword">this</span>.stepsLabel.string = <span class="hljs-string">&apos;0&apos;</span>;  
                <span class="hljs-comment">// set active directly to start listening for mouse events directly </span>
                setTimeout(() =&gt; {   
                    <span class="hljs-keyword">this</span>.playerCtrl.setInputActive(<span class="hljs-literal">true</span>);
                }, <span class="hljs-number">0.1</span>);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> GameState.GS_END:
                <span class="hljs-keyword">break</span>;
        }
        <span class="hljs-keyword">this</span>._curState = value;
    }

    generateRoad() {

        <span class="hljs-keyword">this</span>.node.removeAllChildren();

        <span class="hljs-keyword">this</span>._road = [];
        <span class="hljs-comment">// startPos</span>
        <span class="hljs-keyword">this</span>._road.push(BlockType.BT_STONE);

        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-keyword">this</span>.roadLength; i++) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._road[i<span class="hljs-number">-1</span>] === BlockType.BT_NONE) {
                <span class="hljs-keyword">this</span>._road.push(BlockType.BT_STONE);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">this</span>._road.push(<span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">2</span>));
            }
        }

        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-keyword">this</span>._road.length; j++) {
            <span class="hljs-keyword">let</span> block: Node = <span class="hljs-keyword">this</span>.spawnBlockByType(<span class="hljs-keyword">this</span>._road[j]);
            <span class="hljs-keyword">if</span> (block) {
                <span class="hljs-keyword">this</span>.node.addChild(block);
                block.setPosition(j, <span class="hljs-number">-1.5</span>, <span class="hljs-number">0</span>);
            }
        }
    }

    spawnBlockByType(<span class="hljs-keyword">type</span>: BlockType) {
        <span class="hljs-keyword">let</span> block = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">switch</span>(<span class="hljs-keyword">type</span>) {
            <span class="hljs-keyword">case</span> BlockType.BT_STONE:
                block = instantiate(<span class="hljs-keyword">this</span>.cubePrfb);
                <span class="hljs-keyword">break</span>;
        }

        <span class="hljs-keyword">return</span> block;
    }

    onStartButtonClicked() {
        <span class="hljs-keyword">this</span>.curState = GameState.GS_PLAYING;
    }

    checkResult(moveIndex: <span class="hljs-built_in">number</span>) {
        <span class="hljs-keyword">if</span> (moveIndex &lt;= <span class="hljs-keyword">this</span>.roadLength) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._road[moveIndex] == BlockType.BT_NONE) {   
                <span class="hljs-comment">// ump to the empty square</span>
                <span class="hljs-keyword">this</span>.curState = GameState.GS_INIT;
            }
        } <span class="hljs-keyword">else</span> {    
            <span class="hljs-comment">// skipped the maximum length</span>
            <span class="hljs-keyword">this</span>.curState = GameState.GS_INIT;
        }
    }

    onPlayerJumpEnd(moveIndex: <span class="hljs-built_in">number</span>) {
        <span class="hljs-keyword">this</span>.stepsLabel.string = <span class="hljs-string">&apos;&apos;</span> + moveIndex;
        <span class="hljs-keyword">this</span>.checkResult(moveIndex);
    }

    <span class="hljs-comment">// update (deltaTime: number) {</span>
    <span class="hljs-comment">//     // Your update function goes here.</span>
    <span class="hljs-comment">// }</span>
}
</code></pre>
<h2 id="the-end">The end!</h2>
<p><strong>Congratulations on completing your first game made with Cocos Creator 3D!</strong> </p>
<p>The complete project can be downloaded on our <a href="https://github.com/cocos-creator/tutorial-mind-your-step-3d" target="_blank">GitHub</a>. The hope is this quick start tutorial will help you understand the Cocos Creator 3D game development process, basic concepts and workflow. </p>
<p>Next, you can continue to improve all aspects of the game. Here are some ideas for improvement:</p>
<ul>
<li>Increase the difficulty of the game, when the character stays in place for 1 second it fails.</li>
<li>Change to infinite runway, dynamically delete the runway that has been run, and extend the runway behind.</li>
<li>Add game sound effects.</li>
<li>Add an end menu interface to the game, and count the number of jumping steps and time spent by the player.</li>
<li>Replace characters and runways with prettier assets.</li>
<li>Can add some pickable items to guide players to &quot;make mistakes&quot;</li>
<li>Add some particle special effects, such as trailing when the character moves, dust when landing</li>
<li>Add two operation buttons for touch screen devices instead of left and right mouse button operation</li>
</ul>
<p>Lastly, why not share this game with your friends? You can publish the completd game to a server of your choice using the <a href="../../editor/publish/">Publishing Workflow</a> documentation.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../helloworld/" class="navigation navigation-prev " aria-label="Previous page: Hello world!">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../attention/" class="navigation navigation-next " aria-label="Next page: Caution!">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Quick Start: First Game","level":"1.2.3","depth":2,"next":{"title":"Caution!","level":"1.2.4","depth":2,"path":"getting-started/attention/index.md","ref":"getting-started/attention/index.md","articles":[]},"previous":{"title":"Hello world!","level":"1.2.2","depth":2,"path":"getting-started/helloworld/index.md","ref":"getting-started/helloworld/index.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-lunr","-search","github-issue-feedback-language-custom","search-title","anchorjs","sharing","splitter","theme-default-customize@git+https://github.com/cocos-creator/theme-default.git","expandable-chapters-small@git+https://github.com/cocos-creator/gitbook-plugin-expandable-chapters-small.git"],"styles":{"website":"./styles/website.css"},"pluginsConfig":{"splitter":{},"search":{"maxIndexSize":1000000000},"lunr":{"maxIndexSize":1000000000},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default-customize":{"showLevel":false,"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"}},"search-title":{},"highlight":{},"expandable-chapters-small":{},"sharing":{"qq":true,"all":["facebook","google","twitter","weibo","instapaper"],"douban":false,"facebook":true,"weibo":true,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":false,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"github-issue-feedback-language-custom":{"repo":"cocos-creator/docs-3D","branch":"master"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchorjs":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"index.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{"products":[{"name":"Cocos Creator","links":[{"name":"Manual","link":"https://docs.cocos.com/creator/manual/en"},{"name":"API Ref","link":"https://docs.cocos.com/creator/api/en"}]},{"name":"Cocos Creator 3D","links":[{"name":"Manual","link":"https://docs.cocos.com/creator3d/manual/en"},{"name":"API Ref","link":"https://docs.cocos.com/creator3d/api/en"}]},{"name":"Cocos2d-x","links":[{"name":"Manual","link":"https://docs.cocos.com/cocos2d-x/manual/en"},{"name":"API Ref","link":"http://docs.cocos2d-x.org/api-ref/index.html"}]}],"version":[{"name":"1.1","links":[{"name":"1.0","link":"https://docs.cocos.com/creator3d/1.0/manual/en"},{"name":"3.0 Tech Preview","link":"https://docs.cocos.com/creator3d/manual/en"}]}]},"language":"en","gitbook":"*"},"file":{"path":"getting-started/first-game/index.md","mtime":"2020-08-03T18:48:29.203Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-08-03T18:51:52.294Z"},"basePath":"../..","book":{"language":"en"}});
        });
    </script>
</div>

        
    
    <script src="../../../gitbook/gitbook.js"></script>
    <script src="../../../gitbook/theme.js"></script>
    
        
        <script src="../../../gitbook/gitbook-plugin-github-issue-feedback-language-custom/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search-title/jquery.mark.min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search-title/search.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-anchorjs/anchor.min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-anchorjs/anchor-style.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    <script type="text/javascript">
    function toggleLanguage () {
            var path = location.href;
            // console.log(path);
            if (path.indexOf('/zh') !== -1) {
                path = path.replace(/\/zh[\/$\s]/i, '/en/');
            } else if (path.indexOf('/en') !== -1) {
                path = path.replace(/\/en[\/$\s]/i, '/zh/');
            }
            // console.log('after: ' + path);
            location.assign(path);
    }
    </script>

    </body>
</html>

